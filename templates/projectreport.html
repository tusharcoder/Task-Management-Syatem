{%extends 'base.html'%}
{%block content%}
{% load staticfiles %}


<div class="wrapper">
    <div class="sidebar" data-background-color="white" data-active-color="danger">

    <!--
		Tip 1: you can change the color of the sidebar's background using: data-background-color="white | black"
		Tip 2: you can change the color of the active button using the data-active-color="primary | info | success | warning | danger"
	-->

    	<div class="sidebar-wrapper">
            <div class="logo">
                <a href="/about/" class="simple-text">
                    Scaledesk
                </a>
            </div>

            <ul class="nav">
                <li>
                  {% if staff %}
                    <a href="/staff/">
                  {% else %}
                    <a href="/nonstaff/">
                  {% endif %}
                        <i class="ti-panel"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li>
                    <a href="/profile/">
                        <i class="ti-user"></i>
                        <p>User Profile</p>
                    </a>
                </li>
                <li class="active">
                    <a href="/projectreport/">
                        <i class="ti-view-list-alt"></i>
                        <p>Project Report</p>
                    </a>
                </li>
                <li>
                    <a href="/worktypereport/">
                        <i class="ti-view-list-alt"></i>
                        <p>WorkType Report</p>
                    </a>
                </li>
            </ul>
    	</div>
    </div>

    <div class="main-panel">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar bar1"></span>
                        <span class="icon-bar bar2"></span>
                        <span class="icon-bar bar3"></span>
                    </button>
                    <a class="navbar-brand" href="#">Project Report</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="ti-user"></i>
																			<p>{{user}}</p>
                            </a>
                        </li>
                        <li>
                            <a href="{% url 'logout' %}">
                                <i class="ti-close"></i>
                                <p>Log Out</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card" >
                            <!-- <div class="header"> -->
                                <!-- <h4 class="title">Project Report</h4> -->
                            <!-- </div> -->
                            <div class="container" style=" height:auto; width:auto;  ">
                              <canvas id="myChart" width="100px" height="100px"></canvas>
                                <script>
                                var proj=[];
                                var dat=[];
                                {% for p in q1 %}
                                  proj.push('{{p.name}}')
                                  dat.push('{{p.duration}}')
                                {% endfor %}
                                  var ctx = document.getElementById("myChart");
                                  var myPieChart = new Chart(ctx, {
                                    type: 'pie',
                                    data:
                                    {
                                        labels: proj,
                                        datasets:
                                        [{
                                          label: '# of hours',
                                          data: dat,
                                          backgroundColor:
                                          [
                                            'rgba(255, 99, 132, 0.2)',
                                            'rgba(54, 162, 235, 0.2)',
                                            'rgba(255, 206, 86, 0.2)',
                                            'rgba(75, 192, 192, 0.2)',
                                            'rgba(153, 102, 255, 0.2)',
                                            'rgba(255, 159, 64, 0.2)',
                                            'rgba(156, 102, 255, 0.2)',
                                            'rgba(253, 159, 64, 0.2)',
                                            'rgba(150, 102, 255, 0.2)',
                                            'rgba(250, 159, 64, 0.2)',
                                            'rgba(151, 102, 255, 0.2)',
                                            'rgba(254, 159, 64, 0.2)',
                                            'rgba(154, 102, 255, 0.2)',
                                            'rgba(249, 159, 64, 0.2)',
                                            'rgba(144, 102, 255, 0.2)',
                                            'rgba(241, 159, 64, 0.2)',
                                            'rgba(142, 102, 255, 0.2)',
                                            'rgba(242, 159, 64, 0.2)',
                                            'rgba(146, 102, 255, 0.2)',
                                            'rgba(248, 159, 64, 0.2)',
                                            'rgba(122, 102, 255, 0.2)',
                                            'rgba(222, 159, 64, 0.2)',
                                            'rgba(132, 102, 255, 0.2)',
                                            'rgba(232, 159, 64, 0.2)',
                                            'rgba(192, 102, 255, 0.2)',
                                            'rgba(292, 159, 64, 0.2)'
                                          ],
                                          borderColor:
                                          [
                                            'rgba(255, 99, 132, 1)',
                                            'rgba(54, 162, 235, 1)',
                                            'rgba(255, 206, 86, 1)',
                                            'rgba(75, 192, 192, 1)',
                                            'rgba(153, 102, 255, 1)',
                                            'rgba(255, 159, 64, 1)',
                                            'rgba(156, 102, 255, 1)',
                                            'rgba(253, 159, 64, 1)',
                                            'rgba(150, 102, 255, 1)',
                                            'rgba(250, 159, 64, 1)',
                                            'rgba(151, 102, 255, 1)',
                                            'rgba(254, 159, 64, 1)',
                                            'rgba(154, 102, 255, 1)',
                                            'rgba(249, 159, 64, 1)',
                                            'rgba(144, 102, 255, 1)',
                                            'rgba(241, 159, 64, 1)',
                                            'rgba(142, 102, 255, 1)',
                                            'rgba(242, 159, 64, 1)',
                                            'rgba(146, 102, 255, 1)',
                                            'rgba(248, 159, 64, 1)',
                                            'rgba(122, 102, 255, 1)',
                                            'rgba(222, 159, 64, 1)',
                                            'rgba(132, 102, 255, 1)',
                                            'rgba(232, 159, 64, 1)',
                                            'rgba(192, 102, 255, 1)',
                                            'rgba(292, 159, 64, 1)'
                                          ],
                                          borderWidth: 1
                                        }]
                                      },
                                      options: {}
                                    });
                               </script>
                             </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
            <footer class="footer">
                <div class="container-fluid">
                    <nav class="pull-left">
                        <ul>
                            <li>
                                <a href="/about/">
                                    Scaledesk Web Studio
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                   Blog
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Licenses
                                </a>
                            </li>
                        </ul>
                    </nav>
            <div class="copyright pull-right">
                        &copy; <script>document.write(new Date().getFullYear())</script>, made with <i class="fa fa-heart heart"></i> by <a href="/about/">Scaledesk Web Studio</a>
                    </div>
                </div>
            </footer>
            </div>
        </div>




{%endblock%}
